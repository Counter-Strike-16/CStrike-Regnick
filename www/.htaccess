Options -Indexes

# Protect files from being viewed
<Files .*>
	Order Deny,Allow
	Deny From All
</Files>

# Rewrite block
<IfModule mod_rewrite.c>
    RewriteEngine on
    
    RewriteBase /regnick
    
    # rewrite assets requests to /app/ directory
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(?:css|images|js)\b.* app/$0 [L]
    
    # this adds trailing slash
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_URI} !(.*)/$
    RewriteRule ^(.*)$ $1/ [R=301,L]

    # this gets rid of index.php
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond $1 !^(index\.php|favicon\.ico|robots\.txt)
    RewriteRule ^(.*)$ index.php?page=$1
</IfModule> 